{% extends 'base.html.twig' %}

{% block title %}Event
{% endblock %}

{% block body %}
	<h1>Event</h1>

	<a href="{{ path('app_add_event') }}">Add New event</a>
    <br>
    <a href="{{ path('app_show_event_genre') }}">Show Event genres</a>
	<br>
    <a href="{{ path('app_show_sponsors') }}">Show Sponsor</a>


	<table border="0">
    <thead>
        <tr>
            <th style="padding: 10px;">Name</th>
            <th style="padding: 10px;">Description</th>
            <th style="padding: 10px;">Date</th>
            <th style="padding: 10px;">Members</th>
            <th style="padding: 10px;">Genre</th>
            <th style="padding: 10px;">Sponsors</th>
            <th style="padding: 10px;">Image</th>
            <th style="padding: 10px;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for event in events %}
            <tr>
                <td style="padding: 10px;"><strong>{{ event.getNomEvent() }}</strong></td>
                <td style="padding: 10px;">{{ event.getDescription() }}</td>
                <td style="padding: 10px;">{{ event.getDateEvent()|date }}</td>
                <td style="padding: 10px;">{{ event.getNbrMembers() }}</td>
                <td style="padding: 10px;">{{ event.genre.getNomGenre() }}</td>
                <td style="padding: 10px;">
                    {% for sponsor in event.getSponsors() %}
                        {{ sponsor.getNomSponsor() }}<br>
                    {% endfor %}
                </td>
                <td style="padding: 10px;">
                    {% if event.getImagePath() %}
                        <img src="{{ asset('uploads/events_images/' ~ event.imagePath) }}" alt="Event Image" height="50">
                    {% endif %}
                </td>
                <td style="padding: 10px;">
                    <a href="{{ path('app_update_event', {'id': event.getId()}) }}">Modify</a> |
                    <a href="{{ path('app_delete_event', {'id': event.getId()}) }}">Delete</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">No event found.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
