{% extends 'base_admin.html.twig' %}

{% block title %}
	Add Event Genre
{% endblock %}

{% block body %}
	<!-- Content Start -->
	<div class="content container-fluid pt-4 px-4">
		<div class="row g-4 mb-4">
			<div class="col-sm-12 col-xl-6 mb-3">
				<div class="bg-secondary rounded h-100 p-4">
					<h4 class="mb-4">Ajouter un nouveau Genre d'Événement</h4>

					{{ form_start(form, {'attr': {'enctype': 'multipart/form-data', 'novalidate': 'novalidate'}}) }}

					<div class="form-floating mb-4">
						{{ form_widget(form.nom_genre, {'attr': {'class': 'form-control', 'placeholder': 'Entrez le nom du genre'}}) }}
						{{ form_label(form.nom_genre, 'Nom du Genre') }}
						<div class="form-text text-danger">
							{{ form_errors(form.nom_genre) }}
							{% for message in app.flashes('errorNameExist') %}
								<span class="text-danger">{{ message }}</span>
							{% endfor %}
						</div>
					</div>

					<div class="mb-3">
						{{ form_widget(form.image_file, {'attr': {'class': 'form-control mb-4 bg-dark', 'type': 'file'}}) }}
						{{ form_label(form.image_file, 'Image') }}
						<div class="form-text text-danger">
							{{ form_errors(form.image_file) }}
						</div>
					</div>

					<button type="submit" class="btn btn-primary">Enregistrer</button>

					{{ form_end(form) }}
				</div>
			</div>

			<div class="col-sm-12 col-xl-6">
				<div class="bg-secondary rounded h-100 p-4">
					<h6 class="mb-4">Liste des Genres d'Événements</h6>
					<div class="table-responsive">
						<table class="table">
							<thead>
								<tr>
									<th scope="col">#</th>
									<th scope="col">Nom</th>
								</tr>
							</thead>
							<tbody>
								{% for genre in eventGenres %}
									<tr>
										<th scope="row">{{ loop.index }}</th>
										<td>{{ genre.nomGenre }}</td>
									</tr>
								{% else %}
									<tr>
										<td colspan="2" class="text-center">Aucun genre ajouté pour le moment.</td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<div class="col-sm-6 col-xl-3">
				<div class="bg-secondary rounded d-flex align-items-center justify-content-between p-4">
					<i class="fa fa-chart-line fa-3x text-primary"></i>
					<div class="ms-3">
						<p class="mb-2">Total Genres</p>
						<h6 class="mb-0">{{ eventGenres|length }}</h6>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
