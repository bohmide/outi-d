{% extends 'base.html.twig' %}

{% block title %}Modifier la Question - {{ quiz.titre }}{% endblock %}

{% block body %}
    <div class="container my-5">
        <h2 class="mb-4">Modifier la Question pour "{{ quiz.titre }}"</h2>
        
        {# Affichage des erreurs globales du formulaire #}
        {% if form.vars.errors|length > 0 %}
            <div class="alert alert-danger">
                <ul>
                    {% for error in form.vars.errors %}
                        <li>{{ error.message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        
        {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
        
        <div class="form-group mb-3">
            {{ form_label(form.question, 'Question', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.question, {
                'attr': {
                    'class': 'form-control' ~ (form.question.vars.errors|length > 0 ? ' is-invalid' : '')
                }
            }) }}
            <div class="invalid-feedback">
                {{ form_errors(form.question) }}
            </div>
        </div>
        
        <div class="form-group mb-3">
            {{ form_label(form.type, 'Type', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.type, {
                'attr': {
                    'class': 'form-control' ~ (form.type.vars.errors|length > 0 ? ' is-invalid' : '')
                }
            }) }}
            <div class="invalid-feedback">
                {{ form_errors(form.type) }}
            </div>
        </div>
        
        <button type="submit" class="btn btn-success">Enregistrer</button>
        <a href="{{ path('admin_quiz_question', {'id': quiz.id}) }}" class="btn btn-secondary">Annuler</a>
        
        {{ form_end(form) }}
    </div>
{% endblock %}
